<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                template="/templates/layout.xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="content">
        <div class="row">
            <div class="col-lg-4">
                
                <h:form class="">
                    <p:panel header="Create user">
                        <p:messages autoUpdate="true"/>
                    <div class="form-group #{!nameInput.valid ? 'has-error' : ''}">
                        <h:outputLabel value="name:"  for="name" class="control-label"/>            
                        <h:inputText id="name"  class="form-control login-form-control" 
                                     value="#{registration.name}" binding="#{nameInput}" required="true">
                            <f:validateRegex pattern="[A-ZÅÄÖa-zåäö]*" />
                        </h:inputText>
                        <p:message for="name" />
                    </div>
                    
                    <div class="form-group #{!surnameInput.valid ? 'has-error' : ''}">
                        <h:outputLabel value="surname "  for="surname" class="control-label"/>         
                         <h:inputText id="surname" class="form-control login-form-control" 
                                 value="#{registration.surname}" binding="#{surnameInput}" required="true" /> 
                    </div>
                    
                    <div class="form-group #{!ssnInput.valid ? 'has-error' : ''}">
                        
                        <h:outputLabel value="SSN: "  for="ssn" class="control-label"/>            
                        <h:inputText id="ssn" class="form-control login-form-control" 
                                     value="#{registration.ssn}" binding="#{ssnInput}" required="true">
                            <f:validateRegex pattern="([0-9]{6,6})[-]([0-9]{4,4})" />
                        </h:inputText>
                         <p:message for="ssn" />
                    </div>
                    
                    <div class="form-group #{!emailInput.valid ? 'has-error' : ''}">
                        <h:outputLabel value="email: "  for="email" class="control-label"/>          
                        <h:inputText id="email" class="form-control login-form-control" 
                                     value="#{registration.email}"  binding="#{emailInput}" required="true">
                            <f:validateRegex pattern="([a-zA-Z1-9\\.\\-\\_]+)[@]([a-zA-Z1-9.]+)" />
                        </h:inputText>
                        <p:message for="email" />
                    </div>
                    
                    <div class="form-group #{!usernameInput.valid ? 'has-error' : ''}">
                        <h:outputLabel value="username: "  for="username" class="control-label"/>           
                        <h:inputText id="username" class="form-control login-form-control" 
                                     value="#{registration.username}" binding="#{usernameInput}" required="true"/>
                    </div>

                    <div class="form-group #{!passwordInput.valid ? 'has-error' : ''}">
                        
                        <h:outputLabel value="password: " for="password" class="control-label"/>            
                        <h:inputSecret id="password" class="form-control login-form-control" 
                                       value="#{registration.password}" binding="#{passwordInput}" required="true">
                        </h:inputSecret>
                    </div>
                    
                    <h:commandButton class="btn bg-primary"  value="Create" action="#{registration.register()}" />
               </p:panel>
                </h:form>

            </div>
        </div>   
    </ui:define>
</ui:composition>

